#import "CodingTable.h"

@implementation CodingTable

-(NSDictionary *)ks {
    return @{
             kParameterK1: @[
                     @-0.97850,
                     @-0.97270,
                     @-0.97070,
                     @-0.96680,
                     @-0.96290,
                     @-0.95900,
                     @-0.95310,
                     @-0.94140,
                     @-0.93360,
                     @-0.92580,
                     @-0.91600,
                     @-0.90620,
                     @-0.89650,
                     @-0.88280,
                     @-0.86910,
                     @-0.85350,
                     @-0.80420,
                     @-0.74058,
                     @-0.66019,
                     @-0.56116,
                     @-0.44296,
                     @-0.30706,
                     @-0.15735,
                     @-0.00005,
                     @0.15725,
                     @0.30696,
                     @0.44288,
                     @0.56109,
                     @0.66013,
                     @0.74054,
                     @0.80416,
                     @0.85350,
                       ],
             kParameterK2: @[
                     @-0.64000,
                     @-0.58999,
                     @-0.53500,
                     @-0.47507,
                     @-0.41039,
                     @-0.34129,
                     @-0.26830,
                     @-0.19209,
                     @-0.11350,
                     @-0.03345,
                     @0.04702,
                     @0.12690,
                     @0.20515,
                     @0.28087,
                     @0.35325,
                     @0.42163,
                     @0.48553,
                     @0.54464,
                     @0.59878,
                     @0.64796,
                     @0.69227,
                     @0.73190,
                     @0.76714,
                     @0.79828,
                     @0.82567,
                     @0.84965,
                     @0.87057,
                     @0.88875,
                     @0.90451,
                     @0.91813,
                     @0.92988,
                     @0.98830,
                       ],
             kParameterK3: @[
                     @-0.86000,
                     @-0.75467,
                     @-0.64933,
                     @-0.54400,
                     @-0.43867,
                     @-0.33333,
                     @-0.22800,
                     @-0.12267,
                     @-0.01733,
                     @0.08800,
                     @0.19333,
                     @0.29867,
                     @0.40400,
                     @0.50933,
                     @0.61467,
                     @0.72000,
                       ],
             kParameterK4: @[
                     @-0.64000,
                     @-0.53145,
                     @-0.42289,
                     @-0.31434,
                     @-0.20579,
                     @-0.09723,
                     @0.01132,
                     @0.11987,
                     @0.22843,
                     @0.33698,
                     @0.44553,
                     @0.55409,
                     @0.66264,
                     @0.77119,
                     @0.87975,
                     @0.98830,
                     ],
                 kParameterK5: @[
                     @-0.64000,
                     @-0.54933,
                     @-0.45867,
                     @-0.36800,
                     @-0.27733,
                     @-0.18667,
                     @-0.09600,
                     @-0.00533,
                     @0.08533,
                     @0.17600,
                     @0.26667,
                     @0.35733,
                     @0.44800,
                     @0.53867,
                     @0.62933,
                     @0.72000,
                     ],
                 kParameterK6: @[
                     @-0.50000,
                     @-0.41333,
                     @-0.32667,
                     @-0.24000,
                     @-0.15333,
                     @-0.06667,
                     @0.02000,
                     @0.10667,
                     @0.19333,
                     @0.28000,
                     @0.36667,
                     @0.45333,
                     @0.54000,
                     @0.62667,
                     @0.71333,
                     @0.80000
                     ],
                 kParameterK7: @[
                     @-0.60000,
                     @-0.50667,
                     @-0.41333,
                     @-0.32000,
                     @-0.22667,
                     @-0.13333,
                     @-0.04000,
                     @0.05333,
                     @0.14667,
                     @0.24000,
                     @0.33333,
                     @0.42667,
                     @0.52000,
                     @0.61333,
                     @0.70667,
                     @0.80000,
                     ],
                 kParameterK8: @[
                     @-0.50000,
                     @-0.31429,
                     @-0.12857,
                     @0.05714,
                     @0.24286,
                     @0.42857,
                     @0.61429,
                     @0.80000
                     ],
                 kParameterK9: @[
                     @-0.50000,
                     @-0.34286,
                     @-0.18571,
                     @-0.02857,
                     @0.12857,
                     @0.28571,
                     @0.44286,
                     @0.60000
                     ],
                 kParameterK10: @[
                     @-0.40000,
                     @-0.25714,
                     @-0.11429,
                     @0.02857,
                     @0.17143,
                     @0.31429,
                     @0.45714,
                     @0.60000
                 ],
             };
}

+(NSArray *)rms {
    return @[
                @0,
                @52,
                @87,
                @123,
                @174,
                @246,
                @348,
                @491,
                @694,
                @981,
                @1385,
                @1957,
                @2764,
                @3904,
                @5514,
                @7789
            ];
}

+(NSArray *)pitch {
    return @[
             @0,
             @1,
             @16,
             @17,
             @18,
             @19,
             @20,
             @21,
             @22,
             @23,
             @24,
             @25,
             @26,
             @27,
             @28,
             @29,
             @30,
             @31,
             @32,
             @33,
             @34,
             @35,
             @36,
             @36,
             @38,
             @39,
             @40,
             @41,
             @42,
             @44,
             @46,
             @48,
             @50,
             @52,
             @53,
             @56,
             @58,
             @60,
             @62,
             @65,
             @67,
             @70,
             @72,
             @75,
             @78,
             @80,
             @83,
             @86,
             @89,
             @93,
             @97,
             @100,
             @104,
             @108,
             @113,
             @117,
             @121,
             @126,
             @131,
             @135,
             @140,
             @146,
             @151,
             @157
        ];
}

+(NSArray *)bits {
    return @[ @4, @1, @6, @5, @5, @4, @4, @4, @4, @4, @3, @3, @3 ];
}

-(NSArray *)kBinFor:(NSUInteger)k {
    NSString *kParameterKey;
    switch (k) {
        case 1:
            kParameterKey = kParameterK1;
            break;
        case 2:
            kParameterKey = kParameterK2;
            break;
        case 3:
            kParameterKey = kParameterK3;
            break;
        case 4:
            kParameterKey = kParameterK4;
            break;
        case 5:
            kParameterKey = kParameterK5;
            break;
        case 6:
            kParameterKey = kParameterK6;
            break;
        case 7:
            kParameterKey = kParameterK7;
            break;
        case 8:
            kParameterKey = kParameterK8;
            break;
        case 9:
            kParameterKey = kParameterK9;
            break;
        case 10:
            kParameterKey = kParameterK10;
            break;
        default:
            [NSException raise:@"IllegalKBinError" format:@"invalid k bin requested!"];
            break;
    }
    return [[self ks] objectForKey:kParameterKey];
}

+(NSArray *)parameters {
    return @[
             kParameterGain,
             kParameterRepeat,
             kParameterPitch,
             kParameterK1,
             kParameterK2,
             kParameterK3,
             kParameterK4,
             kParameterK5,
             kParameterK6,
             kParameterK7,
             kParameterK8,
             kParameterK9,
             kParameterK10,
             ];
}

@end
